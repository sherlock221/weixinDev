var Application = function (key, req, data) {
    this.map = new Array();
};

Application.object = function (key, value) {
    return {
       key  : key,
       value : value,
       expiration : 1000 * 60 * 60 * 2 // 2小时
    };
};

Application.prototype.save = function (key, value) {
    for (var i = 0; i < this.map.length; i++) {
        if (this.map[i].key === key) {
            this.map[i].value = value;
        }
        else {
            this.map.push(Application.object(key,value));
        }
    }
    return this;
};

Application.prototype.get = function (key) {
    for (var i = 0; i < this.map.length; i++) {
        if (this.map[i].key === key) {
            return map[i].value;
        }
    }
    return  null;
};

Application.prototype.destroy = function (key) {
    for (var i = 0; i < this.map.length; i++) {
        if (this.map[i].key === key) {
            var temp = this.map[i];
            this.map.splice(i, 1);
            return temp;
        }
    }
    return null;
};

module.exports = Application;